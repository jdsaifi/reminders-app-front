(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{126:function(e,t,a){e.exports=a(233)},131:function(e,t,a){},137:function(e,t,a){},233:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),s=a(27),c=a.n(s),i=(a(131),a(9)),o=a(10),u=a(12),l=a(11),m=a(13),p=a(55),d=a(41),f=a(15),h=a(49),g=a(117),b=a(118),v=a.n(b),E=a(25);function k(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function y(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?k(a,!0).forEach((function(t){Object(E.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):k(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var w={isAuthorized:!1,user:{}},x=a(81);function O(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function j(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?O(a,!0).forEach((function(t){Object(E.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):O(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var _={profile:{},users:[],userSearchMeta:{},friends:[]};function S(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function N(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?S(a,!0).forEach((function(t){Object(E.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):S(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var C={list:[]},P=Object(h.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0,a=t.type,r=t.payload;switch(a){case"auth":return y({},e,{},r);case"me":return y({},e,{user:y({},r)});default:return e}},users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0,a=t.type,r=t.payload;switch(a){case"user_profile":return j({},e,{profile:j({},r)});case"search_user":return j({},e,{},r);case"loadFriends":return j({},e,{friends:Object(x.a)(r)});default:return e}},reminders:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0,a=t.type,r=t.payload;switch(a){case"load_reminders":return N({},e,{list:Object(x.a)(r)});default:return e}}}),M=[g.a,v.a],D=Object(h.d)(P,h.a.apply(void 0,M)),q=(a(136),a(137),a(3)),R=a.n(q),A=a(8),I=a(70),z=a(84),B=a(45),U=a(18),L=a(72),T=a(39),Y=a(24),F=a.n(Y),H=["Today","Tomorrow"],G=["Morning","Afternoon","Evening","Night"],W={start:5,end:11,fixed:9},J={start:12,end:16,fixed:12},V={start:17,end:20,fixed:17},$={start:21,end:4,fixed:21},K=function(){var e=sessionStorage.getItem("reminderapp::access_token");return null!==e&&e},Q="/",X=G,Z=function(){var e,t=G,a=(new Date).getHours();return a>=5&&a<=11&&(e=0),a>=12&&a<=16&&(e=1),a>=17&&a<=20&&(e=2),(a>=21||a<=4)&&(e=3),t.filter((function(t,a){return a>=e}))},ee=function(e,t){var a=e,r=t,n={};if(H.includes(e))switch(e){case"Today":e=F()().format("YYYY-MM-DD");break;case"Tomorrow":e=F()().add(1,"d").format("YYYY-MM-DD")}if(G.includes(t)){var s=(new Date).getHours(),c=s+1,i=null;switch(t){case"Morning":i=W.fixed,s>=W.start&&s<=W.end&&c>=W.start&&c<=W.end&&F()().isSame(e,"d")&&(i=c),n={h:i,m:"00"};break;case"Afternoon":i=J.fixed,s>=J.start&&s<=J.end&&c>=J.start&&c<=J.end&&F()().isSame(e,"d")&&(i=c),n={h:i,m:"00"};break;case"Evening":i=V.fixed,s>=V.start&&s<=V.end&&c>=V.start&&c<=V.end&&F()().isSame(e,"d")&&(i=c),n={h:i,m:"00"};break;case"Night":i=$.fixed,s>=$.start&&s<=$.end&&c>=$.start&&c<=$.end&&F()().isSame(e,"d")&&(i=c),n={h:i,m:"00"}}}else{var o=t.split(":");n={h:o[0]||0,m:o[1]||0}}var u=F()(e).add(n.h,"h").add(n.m,"m");return{status:F()().isBefore(u),inputs:{date:a,time:r},converted:{date:e,time:"".concat(n.h,":").concat(n.m)}}},te=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(l.a)(t).call(this,e))).onChange=function(e){a.setState(Object(E.a)({},e.target.name,e.target.value))},a.searchHandler=function(){var e=Object(A.a)(R.a.mark((function e(t){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),a.props.history.push("".concat(Q,"search/").concat(a.state.search));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.state={search:""},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props.isAuthorized,t=this.state.search;return n.a.createElement(z.a,{bg:"info",variant:"dark",expand:"lg"},n.a.createElement(I.a,null,n.a.createElement(z.a.Toggle,{"aria-controls":"basic-navbar-nav"}),n.a.createElement(z.a.Collapse,{id:"basic-navbar-nav"},n.a.createElement(B.a,{className:"mr-auto"},n.a.createElement(B.a.Link,{href:"".concat(Q),className:"nav-link"},"HOME"),n.a.createElement(B.a.Link,{href:"".concat(Q,"me"),className:"nav-link"},"PROFILE"),n.a.createElement(B.a.Link,{href:"".concat(Q,"set-reminder"),className:"nav-link"},"SET REMINDER"),n.a.createElement(B.a.Link,{href:"".concat(Q,"past-reminders"),className:"nav-link"},"PAST REMINDERS")),!1===e?"":n.a.createElement(U.a,{inline:!0},n.a.createElement(L.a,{type:"text",placeholder:"Search",className:"mr-sm-2",name:"search",value:t,onChange:this.onChange}),n.a.createElement(T.a,{type:"submit",variant:"outline-light",onClick:this.searchHandler},"Search")),n.a.createElement(B.a,null,!1===e?n.a.createElement(B.a.Link,{href:"".concat(Q,"login"),className:"nav-link"},"LOGIN"):n.a.createElement(B.a.Link,{href:"".concat(Q,"logout"),className:"nav-link"},"LOGOUT")))))}}]),t}(n.a.Component),ae=Object(d.f)(Object(f.b)((function(e){return{isAuthorized:e.auth.isAuthorized}}))(te)),re=function(){return n.a.createElement("div",{className:"container"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"text-center col-md mt-5"},n.a.createElement("h1",{className:"display-3"},"404"),n.a.createElement("h5",null,"Page not found."))))},ne=a(120),se=a.n(ne),ce=a(121),ie=a.n(ce),oe=a(21),ue=a.n(oe),le=a(63),me=a.n(le),pe=a(33),de=a(122),fe=a.n(de).a.create({baseURL:"http://okreminder.com:3001/api/v1",responseType:"json"});function he(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function ge(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?he(a,!0).forEach((function(t){Object(E.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):he(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var be=function(){return function(){var e=Object(A.a)(R.a.mark((function e(t){var a,r;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=sessionStorage.getItem("reminderapp::access_token"),e.next=4,fe.get("/authorize",{headers:{Authorization:"Bearer ".concat(a)}});case 4:if(r=e.sent,"okay"!==r.data.status){e.next=11;break}return t({type:"auth",payload:{isAuthorized:!0}}),e.abrupt("return",!0);case 11:return t({type:"auth",payload:{isAuthorized:!1}}),e.abrupt("return",!1);case 13:e.next=18;break;case 15:return e.prev=15,e.t0=e.catch(0),e.abrupt("return",!1);case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t){return e.apply(this,arguments)}}()},ve=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(l.a)(t).call(this,e))).signin=function(){var e=Object(A.a)(R.a.mark((function e(t,r){var n,s,c,i;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("facebook"===r&&t.email&&(s=t.email.split("@")[0],n={auth_provider:"facebook",auth_provider_id:t.id,auth_provider_access_token:t.accessToken,username:s,email:t.email,display_name:t.name,dp:"https://graph.facebook.com/".concat(t.id,"/picture?type=large"),first_name:t.first_name||"",last_name:t.last_name||"",timezone:me.a.tz.guess()}),"google"!==r||ue.a.isEmpty(t.profileObj)||(c=t.profileObj.email.split("@")[0],n={auth_provider:"google",auth_provider_id:t.profileObj.googleId,auth_provider_access_token:t.accessToken,username:c,email:t.profileObj.email,display_name:t.profileObj.name,dp:t.profileObj.imageUrl,first_name:t.profileObj.givenName||"",last_name:t.profileObj.familyName||"",timezone:me.a.tz.guess()}),!n){e.next=10;break}return e.next=5,a.props.signin(n);case 5:!1===(i=e.sent).status&&a.setState({loginErrorMsg:i.msg}),!0===i.status&&(a.setState({loginErrorMsg:""}),a.props.history.push("".concat(Q,"me"))),e.next=11;break;case 10:a.setState({loginErrorMsg:"Something went wrong. Please try later."});case 11:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),a.closeErrorAlert=function(){a.setState({loginErrorMsg:""})},a.state={loginErrorMsg:""},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=Object(A.a)(R.a.mark((function e(){var t;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.props.history,K()&&t.push("".concat(Q));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state.loginErrorMsg;return n.a.createElement("section",{className:"container"},n.a.createElement("h2",{className:"text-center"},"Welcome to Remind.me"),n.a.createElement("hr",null),""!==t?n.a.createElement(pe.a,{key:1,variant:"danger",onClose:function(){return e.closeErrorAlert()},dismissible:!0},n.a.createElement("strong",null,"Error! "),t):"",n.a.createElement("article",{className:"jumbotron"},n.a.createElement("p",{className:"text-center lead"},n.a.createElement("strong",null,"Ready to begin? Signin to set reminder and collaborate with your friends and colleagues!")),n.a.createElement("div",{className:"text-center"},n.a.createElement(se.a,{appId:"860969304305165",fields:"name,email,picture,first_name,last_name",callback:function(t){return e.signin(t,"facebook")},cssClass:"loginBtn loginBtn--facebook mr-4"}),n.a.createElement(ie.a,{clientId:"604433154038-357srq78dgd0jiji0fs7s8rme0k5uu0u.apps.googleusercontent.com",buttonText:"LOGIN WITH GOOGLE",onSuccess:function(t){return e.signin(t,"google")},onFailure:function(t){return e.signin(t,"google")}}))))}}]),t}(n.a.Component),Ee=Object(f.b)((function(e){return{user:e.auth.user}}),(function(e){return{signin:function(t){return e(function(e){return function(){var t=Object(A.a)(R.a.mark((function t(a){var r,n,s,c,i;return R.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fe.post("/social-signin",e);case 3:if(201!==(r=t.sent).status){t.next=11;break}return n=r.data.data,sessionStorage.setItem("reminderapp::access_token",n.access_token),a({type:"auth",payload:ge({},n,{isAuthorized:!0})}),t.abrupt("return",{c:10001,status:!0,msg:"Success"});case 11:return t.abrupt("return",{c:10002,status:!1,msg:"Something went wrong."});case 12:t.next=28;break;case 14:if(t.prev=14,t.t0=t.catch(0),!(s=t.t0.response)){t.next=27;break}c=s.status,i=s.data,t.t1=c,t.next=422===t.t1?22:409===t.t1?23:24;break;case 22:return t.abrupt("return",{c:10003,status:!1,api_status:422,msg:i.msg,data:i.data});case 23:return t.abrupt("return",{c:10004,status:!1,api_status:409,msg:i.msg,data:i.data});case 24:return t.abrupt("return",{c:10005,status:!1,api_status:500,msg:i.msg,data:i.data});case 25:t.next=28;break;case 27:return t.abrupt("return",{c:10006,status:!1,api_status:500,msg:"Something went wrong."});case 28:case"end":return t.stop()}}),t,null,[[0,14]])})));return function(e){return t.apply(this,arguments)}}()}(t))},authorize:function(){return e(be())}}}))(ve),ke=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=Object(A.a)(R.a.mark((function e(){var t;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.history,K()||t.push("".concat(Q,"login")),sessionStorage.removeItem("reminderapp::access_token"),e.abrupt("return",t.push("".concat(Q,"login")));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return n.a.createElement("div",{className:"container"},"See you soon...")}}]),t}(n.a.Component),ye=function(){return function(){var e=Object(A.a)(R.a.mark((function e(t){var a,r,n,s,c,i,o;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=sessionStorage.getItem("reminderapp::access_token"),e.next=4,fe.get("/users/me",{headers:{Authorization:"Bearer ".concat(a)}});case 4:if(r=e.sent,n=r.data,s=n.status,c=n.data,"okay"!==s){e.next=13;break}return t({type:"me",payload:c}),e.abrupt("return",{status:!0,msg:"Profile"});case 13:return e.abrupt("return",{status:!1,msg:"Something went wrong."});case 14:e.next=25;break;case 16:if(e.prev=16,e.t0=e.catch(0),!(i=e.t0.response)){e.next=24;break}return o=i.data,e.abrupt("return",{status:!1,msg:o.msg,data:o.data});case 24:return e.abrupt("return",{status:!1,msg:"Something went wrong."});case 25:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(t){return e.apply(this,arguments)}}()},we=a(17),xe=a(16),Oe=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(l.a)(t).call(this,e))).sendFriendRequest=function(){var e=Object(A.a)(R.a.mark((function e(t){var r;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a.setState({isRequesting:!0}),e.next=4,a.props.sendRequest(a.props.userId);case 4:!0===(r=e.sent).status?("requested"===r.code&&a.setState({isRequesting:!1,isRequested:!0}),"friends"===r.code&&a.setState({isRequesting:!1,isFriend:!0})):a.setState({isRequesting:!1,isFriend:!1,isRequested:!1,apiMsg:r.msg});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.state={isFriend:e.isFriend,isRequested:e.isRequested,isRequesting:!1,userId:e.userId,self:e.self,apiMsg:""},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.state,t=e.isFriend,a=e.isRequested,r=e.isRequesting,s=e.self,c="";return!0===t&&(c=n.a.createElement(xe.a.Item,{disabled:!0},"Both are friends")),!0===a&&(c=n.a.createElement(xe.a.Item,{disabled:!0},"Requested")),!1===t&&!1===a&&(c=n.a.createElement(xe.a.Item,{onClick:this.sendFriendRequest},"Send friend request")),!0===r&&(c=n.a.createElement(xe.a.Item,{disabled:!0},"Requesting...")),!0===s&&(c=""),n.a.createElement("div",{className:"text-left mb-0 text-muted"},c)}}]),t}(n.a.Component),je=Object(f.b)(null,(function(e){return{sendRequest:function(t){return e(function(e){return function(){var t=Object(A.a)(R.a.mark((function t(a){var r,n,s,c,i,o,u,l;return R.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=sessionStorage.getItem("reminderapp::access_token"),t.next=4,fe.post("/friends/request",{to:e},{headers:{Authorization:"Bearer ".concat(r)}});case 4:if(n=t.sent,s=n.status,c=n.data,c.status,c.msg,i=c.code,201!==s){t.next=12;break}return t.abrupt("return",{status:!0,code:"requested"});case 12:if(200!==s){t.next=17;break}if("already_friends"!==i){t.next=15;break}return t.abrupt("return",{status:!0,code:"friends"});case 15:if("already_requested"!==i){t.next=17;break}return t.abrupt("return",{status:!0,code:"requested"});case 17:t.next=32;break;case 19:if(t.prev=19,t.t0=t.catch(0),!(o=t.t0.response)){t.next=31;break}u=o.status,l=o.data,t.t1=u,t.next=422===t.t1?27:28;break;case 27:return t.abrupt("return",{status:!1,api_status:422,msg:l.msg,data:l.data});case 28:return t.abrupt("return",{status:!1,api_status:500,msg:l.msg,data:l.data});case 29:t.next=32;break;case 31:return t.abrupt("return",{status:!1,api_status:500,msg:"Something went wrong."});case 32:case"end":return t.stop()}}),t,null,[[0,19]])})));return function(e){return t.apply(this,arguments)}}()}(t))}}}))(Oe),_e=function(e){var t=e.id,a=e.dp,r=e.display_name,s=e.email,c=e.isOwner,i=e.isFriend,o=e.isRequested,u=e.self,l=e.requests_in_count,m=e.can_friend_set_reminder,d=e.isBlocked,f=e.handleBlock;return n.a.createElement(we.a,{className:"mx-auto mt-0 p-2 w-50"},c&&l>0?n.a.createElement("div",{className:"text-left mb-0"},"Requests: ",n.a.createElement("a",{href:"/requests"},l," View")):null,n.a.createElement(xe.a,null,n.a.createElement(xe.a.Toggle,{variant:"link",className:"more-menu pull-right"},n.a.createElement("i",{className:"fa fa-ellipsis-h"})),n.a.createElement(xe.a.Menu,null,u?n.a.createElement(xe.a.Item,{disabled:!0},"Self Profile"):null,c?null:n.a.createElement(je,{userId:t,self:u,owner:c,isFriend:i,isRequested:o}),!1===c&&!1===d&&!1===u?n.a.createElement(xe.a.Item,{onClick:f},"Block this User"):null,!1===c&&!0===d?n.a.createElement(xe.a.Item,{onClick:f},"Unblock this User"):null,c?n.a.createElement(xe.a.Item,{href:"".concat(Q,"me/edit")},"Update Profile"):null,c?n.a.createElement(xe.a.Item,{href:"".concat(Q,"me/change-username")},"Change username"):null)),n.a.createElement(we.a.Body,{className:"text-center"},n.a.createElement("img",{alt:"Profile",src:a,className:"rounded-circle img-thumbnail mx-auto text-center"}),n.a.createElement("p",{className:"lead mb-0"},r),n.a.createElement("p",{className:"text-muted"},s),!1===c&&!0===i&&!0===m?n.a.createElement(p.b,{to:{pathname:"".concat(Q,"set-reminder"),search:"?f=".concat(t)},className:"btn btn-info btn-block"},n.a.createElement("i",{className:"fa fa-bell"})," Send Reminder"):null))},Se=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=Object(A.a)(R.a.mark((function e(){var t,a,r,n;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props,a=t.history,r=t.authorize,n=t.meProfile,K()||a.push("".concat(Q,"login")),e.next=4,r();case 4:if(!e.sent){e.next=9;break}return e.next=7,n();case 7:e.next=10;break;case 9:a.push("".concat(Q,"login"));case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.user;return ue.a.isEmpty(e)?n.a.createElement("p",{className:"mt-4 text-center"},n.a.createElement("i",{className:"fa fa-spinner fa-pulse fa-3x fa-fw"}),n.a.createElement("span",{className:"sr-only"},"Loading...")):n.a.createElement("section",{className:"container"},n.a.createElement("div",{className:"row mt-5 br1"},n.a.createElement("article",{className:"col-md text-cetner"},n.a.createElement(_e,Object.assign({},e,{isOwner:!0})))))}}]),t}(n.a.Component),Ne=Object(f.b)((function(e){return{user:e.auth.user}}),(function(e){return{authorize:function(){return e(be())},meProfile:function(){return e(ye())}}}))(Se);function Ce(e){var t=e.username,a=e.actionAccept,r=e.actionReject,s=e.reqAccepting,c=e.reqRejecting;return n.a.createElement("div",{className:"row mt-5"},n.a.createElement("div",{className:"col-md"},n.a.createElement(pe.a,{key:"1",variant:"info"},n.a.createElement("strong",null,"Action required "),"You have a pending friend request from @",t," ",s||c?n.a.createElement("button",{className:"btn btn-success",disabled:!0},s?"Acepting...":"Accept"):n.a.createElement("button",{className:"btn btn-success",onClick:a},"Accept")," ",c||s?n.a.createElement("button",{className:"btn btn-danger",disabled:!0},c?"Rejecting...":"Reject"):n.a.createElement("button",{className:"btn btn-danger",onClick:r},"Reject"))))}var Pe=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(l.a)(t).call(this,e))).actionAccept=Object(A.a)(R.a.mark((function e(){var t,r,n,s,c,i,o;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props.user.username,a.setState({reqAccepting:!0}),e.prev=2,r=sessionStorage.getItem("reminderapp::access_token"),e.next=6,fe.post("/friends/requests/".concat(t,"/accept"),null,{headers:{Authorization:"Bearer ".concat(r)}});case 6:n=e.sent,s=n.status,c=n.data,c.status,c.data,201===s&&a.setState({reqAccepting:!1,dismisRequestButtons:!0,didUpdate:!0,errorMsg:"The friend request has been accepted."}),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(2),(i=e.t0.response)?(o=i.data,a.setState({reqAccepting:!1,errorMsg:o.msg})):a.setState({reqAccepting:!1,errorMsg:"Something went wrong."});case 18:case"end":return e.stop()}}),e,null,[[2,14]])}))),a.actionReject=Object(A.a)(R.a.mark((function e(){var t,r,n,s,c,i,o;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props.user.username,a.setState({reqRejecting:!0}),e.prev=2,r=sessionStorage.getItem("reminderapp::access_token"),e.next=6,fe.post("/friends/requests/".concat(t,"/reject"),null,{headers:{Authorization:"Bearer ".concat(r)}});case 6:n=e.sent,s=n.status,c=n.data,c.status,c.data,201===s&&a.setState({reqRejecting:!1,dismisRequestButtons:!0,didUpdate:!0,errorMsg:"The friend request has been rejected."}),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(2),(i=e.t0.response)?(o=i.data,a.setState({reqRejecting:!1,errorMsg:o.msg})):a.setState({reqRejecting:!1,errorMsg:"Something went wrong."});case 18:case"end":return e.stop()}}),e,null,[[2,14]])}))),a.proccessBlock=Object(A.a)(R.a.mark((function e(){var t,r,n,s,c,i,o;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props.user.username,e.prev=1,r=sessionStorage.getItem("reminderapp::access_token"),e.next=5,fe.post("/users/".concat(t,"/block"),null,{headers:{Authorization:"Bearer ".concat(r)}});case 5:n=e.sent,s=n.status,c=n.data,c.status,c.data,201===s&&a.setState({errorMsg:"User has been blocked",didUpdate:!0}),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),(i=e.t0.response)?(o=i.data,a.setState({errorMsg:o.msg})):a.setState({errorMsg:"Something went wrong."});case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),a.proccessUnblock=Object(A.a)(R.a.mark((function e(){var t,r,n,s,c,i,o;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props.user.username,e.prev=1,r=sessionStorage.getItem("reminderapp::access_token"),e.next=5,fe.post("/users/".concat(t,"/unblock"),null,{headers:{Authorization:"Bearer ".concat(r)}});case 5:n=e.sent,s=n.status,c=n.data,c.status,c.data,201===s&&a.setState({errorMsg:"User has been unblocked",didUpdate:!0}),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),(i=e.t0.response)?(o=i.data,a.setState({errorMsg:o.msg})):a.setState({errorMsg:"Something went wrong."});case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),a.handleBlock=function(){var e=a.props.user.isBlocked;!0===e&&a.proccessUnblock(),!1===e&&a.proccessBlock()},a.closeError=function(){a.setState({errorMsg:""})},a.state={apiMsg:"",errorMsg:"",reqAccepting:!1,reqRejecting:!1,dismisRequestButtons:!1,didUpdate:!1},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidUpdate",value:function(){var e=Object(A.a)(R.a.mark((function e(t,a){var r,n,s,c,i;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this.props,n=r.history,s=r.authorize,c=r.usersProfile,i=r.match.params,e.t0=!K(),e.t0){e.next=6;break}return e.next=5,s();case 5:e.t0=!e.sent;case 6:if(!e.t0){e.next=8;break}n.push("".concat(Q,"login"));case 8:if(this.state.didUpdate===a.didUpdate){e.next=12;break}return e.next=11,c(i.username||"");case 11:this.setState({didUpdate:!1});case 12:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=Object(A.a)(R.a.mark((function e(){var t,a,r,n,s,c;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props,a=t.history,r=t.authorize,n=t.usersProfile,s=t.match.params,K()||a.push("".concat(Q,"login")),e.next=4,r();case 4:if(!e.sent){e.next=11;break}return e.next=7,n(s.username||"");case 7:(c=e.sent).status||this.setState({apiMsg:c.msg}),e.next=12;break;case 11:a.push("".concat(Q,"login"));case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props.user,a=this.state,r=a.apiMsg,s=a.reqAccepting,c=a.reqRejecting,i=a.errorMsg,o=a.dismisRequestButtons;return""!==r?n.a.createElement("h3",{className:"text-center lead mt-4"},r):ue.a.isEmpty(t)?n.a.createElement("p",{className:"mt-4 text-center"},n.a.createElement("i",{className:"fa fa-spinner fa-pulse fa-3x fa-fw"}),n.a.createElement("span",{className:"sr-only"},"Loading...")):n.a.createElement("section",{className:"container"},t.hasRequest&&!1===o?n.a.createElement(Ce,{username:t.username,actionAccept:this.actionAccept,actionReject:this.actionReject,reqAccepting:s,reqRejecting:c}):null,""===i?null:n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-md"},n.a.createElement(pe.a,{key:"2",variant:"info",onClose:function(){return e.closeError()},dismissible:!0},n.a.createElement("strong",null,"Alert! "),i))),n.a.createElement("div",{className:"row mt-5"},n.a.createElement("article",{className:"col-md text-cetner"},n.a.createElement(_e,Object.assign({},t,{isOwner:!1,handleBlock:this.handleBlock})))))}}]),t}(n.a.Component),Me=Object(f.b)((function(e){return{user:e.users.profile}}),(function(e){return{authorize:function(){return e(be())},usersProfile:function(t){return e(function(e){return function(){var t=Object(A.a)(R.a.mark((function t(a){var r,n,s,c,i,o,u,l,m;return R.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=sessionStorage.getItem("reminderapp::access_token"),t.next=4,fe.get("/users/".concat(e),{headers:{Authorization:"Bearer ".concat(r)}});case 4:if(n=t.sent,s=n.status,c=n.data,i=c.status,o=c.data,200!==s||"okay"!==i){t.next=14;break}return a({type:"user_profile",payload:o}),t.abrupt("return",{status:!0,msg:"".concat(e,"'s Profile")});case 14:return t.abrupt("return",{status:!1,msg:"Something went wrong."});case 15:t.next=28;break;case 17:if(t.prev=17,t.t0=t.catch(0),!(u=t.t0.response)){t.next=27;break}if(l=u.status,m=u.data,404!==l){t.next=24;break}return t.abrupt("return",{status:!1,api_status:404,msg:m.msg,data:m.data});case 24:return t.abrupt("return",{status:!1,api_status:500,msg:"Something went wrong.",data:m.data});case 27:return t.abrupt("return",{status:!1,msg:"Something went wrong."});case 28:case"end":return t.stop()}}),t,null,[[0,17]])})));return function(e){return t.apply(this,arguments)}}()}(t))}}}))(Pe),De=a(56),qe=a.n(De),Re=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=e.time,a=e.date,r=e.remind_me,s=e.owner,c=s.display_name,i=s.dp,o=e.friend,u=me()("".concat(a," ").concat(t)),l="";return o&&o.hasOwnProperty("display_name")&&(l=o.display_name),n.a.createElement("section",{className:"row mt-3"},n.a.createElement("article",{className:"col-md"},n.a.createElement(we.a,{className:"mt-0 p-3 reminder-card-boxshadow"},n.a.createElement("div",{className:"row"},n.a.createElement("article",{className:"col-md-2 text-center reminder-list-user-box"},n.a.createElement("img",{src:i,alt:"Avatar",style:{width:"75px"}}),n.a.createElement("p",{className:"lead"},c)),n.a.createElement("article",{className:"col-md-10"},n.a.createElement("p",{className:"lead",style:{minHeight:"70px"}},r),n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-md"},n.a.createElement("strong",{className:"text-muted"},"Will remind at "),u.format("LLLL")),n.a.createElement("div",{className:"col-md"},n.a.createElement("strong",{className:"text-muted"},"Reminder for: "),n.a.createElement("i",null,c)," ",n.a.createElement("i",null,""!==l?"& ".concat(l):""))))))))}}]),t}(n.a.Component),Ae=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(l.a)(t).call(this,e))).changeReminderPage=function(){var e=Object(A.a)(R.a.mark((function e(t){var r,n;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.props.loadReminders,e.next=3,r(t);case 3:!0===(n=e.sent).status&&a.setState({reminders_meta:n.meta}),404===n.api_status&&a.setState({apiMsg:n.msg});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.state={reminders_meta:{current_page:1,has_next:null,items_count:0,pages_count:0},apiMsg:""},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=Object(A.a)(R.a.mark((function e(){var t,a,r,n,s,c;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props,a=t.history,r=t.authorize,n=t.loadReminders,s=t.meProfile,e.t0=!K(),e.t0){e.next=6;break}return e.next=5,r();case 5:e.t0=!e.sent;case 6:if(!e.t0){e.next=8;break}return e.abrupt("return",a.push("".concat(Q,"login")));case 8:return e.next=10,s();case 10:return e.next=12,n(this.state.reminders_meta.current_page);case 12:!0===(c=e.sent).status&&this.setState({reminders_meta:c.meta}),404===c.api_status&&this.setState({apiMsg:c.msg});case 15:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props,t=e.reminders,a=e.user.timezone,r=this.state,s=r.apiMsg,c=r.reminders_meta,i=c.current_page,o=c.items_count;return""!==s?n.a.createElement("h3",{className:"text-center lead mt-4"},s):ue.a.isEmpty(t)?n.a.createElement("p",{className:"mt-4 text-center"},n.a.createElement("i",{className:"fa fa-spinner fa-pulse fa-3x fa-fw"}),n.a.createElement("span",{className:"sr-only"},"Loading...")):n.a.createElement("section",{className:"container"},t.map((function(e){return n.a.createElement(Re,Object.assign({key:e._id,timezone:a},e))})),n.a.createElement(qe.a,{activePage:i,itemsCountPerPage:10,totalItemsCount:o,pageRangeDisplayed:7,onChange:this.changeReminderPage,itemClass:"page-item",innerClass:"pagination mt-5 mb-5",linkClass:"page-link"}))}}]),t}(n.a.Component),Ie=Object(f.b)((function(e){return{reminders:e.reminders.list,user:e.auth.user}}),(function(e){return{authorize:function(){return e(be())},loadReminders:function(t){return e(function(e){return function(){var t=Object(A.a)(R.a.mark((function t(a){var r,n,s,c,i,o,u,l,m,p;return R.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=sessionStorage.getItem("reminderapp::access_token"),t.next=4,fe.get("/reminders?page=".concat(e),{headers:{Authorization:"Bearer ".concat(r)}});case 4:if(n=t.sent,s=n.status,c=n.data,i=c.status,o=c.data,u=c.meta,200!==s||"okay"!==i){t.next=15;break}return a({type:"load_reminders",payload:o}),t.abrupt("return",{status:!0,msg:"List of reminders",meta:u});case 15:return t.abrupt("return",{status:!1,msg:"Something went wrong."});case 16:t.next=29;break;case 18:if(t.prev=18,t.t0=t.catch(0),!(l=t.t0.response)){t.next=28;break}if(m=l.status,p=l.data,404!==m){t.next=25;break}return t.abrupt("return",{status:!1,api_status:404,msg:p.msg,data:p.data});case 25:case 28:return t.abrupt("return",{status:!1,msg:"Something went wrong."});case 29:case"end":return t.stop()}}),t,null,[[0,18]])})));return function(e){return t.apply(this,arguments)}}()}(t))},meProfile:function(){return e(ye())}}}))(Ae),ze=a(102),Be=a.n(ze),Ue=(a(179),a(125)),Le=a.n(Ue),Te=function(e){function t(e){var a;Object(i.a)(this,t),(a=Object(u.a)(this,Object(l.a)(t).call(this,e))).saveReminder=Object(A.a)(R.a.mark((function e(){var t,r,n,s,c,i,o,u;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props.setReminder,r=a.state,n=r.remind_me,s=r.date,c=r.time,i=r.friend,o={remind_me:n,date:s,time:c,friend:i},e.next=5,t(o);case 5:!0===(u=e.sent).status?a.setState({showSuccessAlert:!0,msg:u.msg}):a.setState({showErrorAlert:!0,msg:u.msg});case 7:case"end":return e.stop()}}),e)}))),a.closeSuccessAlert=function(){a.setState({showSuccessAlert:!1})},a.closeErrorAlert=function(){a.setState({showErrorAlert:!1})},a.onChange=function(e){a.setState(Object(E.a)({},e.target.name,e.target.value))},a.dateDropdownHandler=function(e){var t=null,r=e;ue.a.isObject(r)?r=(t=F()(e)).format("YYYY")==F()().format("YYYY")?t.format("dddd, MMMM DD"):t.format("dddd, MMMM DD, YYYY"):(t=F()(),"Tomorrow"===r&&t.add(1,"d")),t=t.format("YYYY-MM-DD"),a.setState({date:t,dateDisplay:r},(function(){var e=a.state,t=e.date,r=e.time,n=ee(t,r);a.setState({showPastDateError:!n.status})}))},a.timeDropdownHandler=function(e){var t=e,r=e;ue.a.isObject(t)&&(t=F()(e).format("HH:mm"),r=F()(e).format("hh:mm A")),a.setState({time:t,timeDisplay:r},(function(){var e=a.state,t=e.date,r=e.time,n=ee(t,r);a.setState({showPastDateError:!n.status,time:n.converted.time})}))};var r=Le.a.parse(e.location.search),n=ee(F()().format("YYYY-MM-DD"),X[0]);return a.state={showErrorAlert:!1,showSuccessAlert:!1,msg:"",remind_me:"",date:n.converted.date,dateDisplay:"Today",time:n.converted.time,timeDisplay:Z()[1]||"Night",partsOfTheDay:X,showPastDateError:!1,friend:"f"in r?r.f:""},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=Object(A.a)(R.a.mark((function e(){var t,a,r,n;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props,a=t.history,r=t.authorize,n=t.loadFriends,e.t0=!K(),e.t0){e.next=6;break}return e.next=5,r();case 5:e.t0=!e.sent;case 6:if(!e.t0){e.next=8;break}a.push("".concat(Q,"login"));case 8:return e.next=10,n();case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.showErrorAlert,r=t.showSuccessAlert,s=t.remind_me,c=t.partsOfTheDay,i=t.dateDisplay,o=t.timeDisplay,u=t.showPastDateError,l=t.friend,m=this.props.friends;return n.a.createElement(I.a,{className:"mt-5"},r?n.a.createElement(pe.a,{key:1,variant:"success",onClose:function(){return e.closeSuccessAlert()},dismissible:!0},n.a.createElement("strong",null,"Success! "),this.state.msg):"",a?n.a.createElement(pe.a,{key:1,variant:"danger",onClose:function(){return e.closeErrorAlert()},dismissible:!0},n.a.createElement("strong",null,"Error! "),this.state.msg):"",n.a.createElement(U.a,null,n.a.createElement(we.a,{className:"mx-auto w-50"},n.a.createElement(we.a.Header,null,"Set a reminder"),n.a.createElement(we.a.Body,null,n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-md"},n.a.createElement(U.a.Control,{type:"text",placeholder:"Remind me...",name:"remind_me",value:s,onChange:this.onChange,className:"align-text-bottom"})),n.a.createElement("div",{className:"col-md"},n.a.createElement(U.a.Group,{controlId:"exampleForm.ControlSelect1"},n.a.createElement(U.a.Control,{as:"select",value:l,name:"friend",onChange:this.onChange},n.a.createElement("option",{value:""},"Friends"),m.map((function(e){return n.a.createElement("option",{key:e._id,value:e._id},e.display_name)})))))),n.a.createElement("hr",null),n.a.createElement("section",{className:"row"},n.a.createElement("div",{className:"col-md"},n.a.createElement(U.a.Group,{controlId:"exampleForm.ControlSelect1"},n.a.createElement(U.a.Label,null,"Date"),n.a.createElement(xe.a,{className:"w-100 "},n.a.createElement(xe.a.Toggle,{variant:"light",id:"dropdown-basic",className:"w-100 text-left"},i),n.a.createElement(xe.a.Menu,{className:"w-100"},n.a.createElement(xe.a.Item,{onClick:function(){return e.dateDropdownHandler("Today")}},"Today"),n.a.createElement(xe.a.Item,{onClick:function(){return e.dateDropdownHandler("Tomorrow")}},"Tomorrow"),n.a.createElement(xe.a.Item,{className:"hover-dropdown"},"Set date"),n.a.createElement("div",{className:"hover-cal"},n.a.createElement(Be.a,{inline:!0,selected:new Date,onChange:function(t){return e.dateDropdownHandler(t)}})))))),n.a.createElement("div",{className:"col-md"},n.a.createElement(U.a.Group,{controlId:"exampleForm.ControlSelect1"},n.a.createElement(U.a.Label,null,"Time"),n.a.createElement(xe.a,{className:"w-100 "},n.a.createElement(xe.a.Toggle,{variant:"light",id:"dropdown-basic",className:"w-100 text-left"},o),n.a.createElement(xe.a.Menu,{className:"w-100"},c.map((function(t){return n.a.createElement(xe.a.Item,{key:t,onClick:function(){return e.timeDropdownHandler(t)}},t)})),n.a.createElement(xe.a.Item,{className:"hover-dropdown"},"Set time"),n.a.createElement("div",{className:"hover-cal"},n.a.createElement(Be.a,{inline:!0,selected:new Date,onChange:function(t){return e.timeDropdownHandler(t)},showTimeSelect:!0,showTimeSelectOnly:!0,timeIntervals:15,timeCaption:"Time",dateFormat:"h:mm aa"})))))))),n.a.createElement(we.a.Footer,{className:"text-muted"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-md"},n.a.createElement(T.a,{variant:"outline-dark",onClick:this.saveReminder,disabled:""===s||!0===u?"disabled":null},"Save Reminder")),n.a.createElement("div",{className:"col-md error-msg text-right"},!0===u?n.a.createElement("span",null,n.a.createElement("i",{className:"fa fa-exclamation-triangle"}),"You can not reminder for past"):null))))))}}]),t}(n.a.Component),Ye=Object(f.b)((function(e){return{friends:e.users.friends}}),(function(e){return{authorize:function(){return e(be())},setReminder:function(t){return e((a=t,function(){var e=Object(A.a)(R.a.mark((function e(t){var r,n,s,c,i,o;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=sessionStorage.getItem("reminderapp::access_token"),e.next=4,fe.post("/reminders",a,{headers:{Authorization:"Bearer ".concat(r)}});case 4:if(n=e.sent,s=n.status,c=n.data.status,201!==s||"okay"!==c){e.next=12;break}return t({type:"set_new_reminder_success"}),e.abrupt("return",{status:!0,msg:"Reminder has been set successfully."});case 12:return e.abrupt("return",{status:!1,msg:"Something went wrong."});case 13:e.next=24;break;case 15:if(e.prev=15,e.t0=e.catch(0),!(i=e.t0.response)){e.next=23;break}return o=i.data,e.abrupt("return",{status:!1,api_status:o.status,msg:o.msg,data:o.data});case 23:return e.abrupt("return",{status:!1,msg:"Something went wrong."});case 24:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t){return e.apply(this,arguments)}}()));var a},loadFriends:function(){return e(function(){var e=Object(A.a)(R.a.mark((function e(t){var a,r,n,s,c,i,o,u;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=sessionStorage.getItem("reminderapp::access_token"),e.next=4,fe.get("/friends",{headers:{Authorization:"Bearer ".concat(a)}});case 4:if(r=e.sent,n=r.status,s=r.data,c=s.status,i=s.data,200!==n||"okay"!==c){e.next=14;break}return t({type:"loadFriends",payload:i}),e.abrupt("return",{status:!0,msg:"Friends"});case 14:return e.abrupt("return",{status:!1,msg:"Something went wrong."});case 15:e.next=26;break;case 17:if(e.prev=17,e.t0=e.catch(0),!(o=e.t0.response)){e.next=25;break}return o.status,u=o.data,e.abrupt("return",{status:!1,msg:u.msg});case 25:return e.abrupt("return",{status:!1,msg:"Something went wrong."});case 26:case"end":return e.stop()}}),e,null,[[0,17]])})));return function(t){return e.apply(this,arguments)}}())}}}))(Te),Fe=function(e){var t=e.dp,a=e.display_name,r=e.email,s=e.username;e.isOwner;return n.a.createElement("section",{className:"col-sm-12 col-md-4 col-lg-4"},n.a.createElement(we.a,{style:{},className:"mx-auto mb-4 p-1"},n.a.createElement(we.a.Body,{className:"text-center"},n.a.createElement("img",{alt:"Profile",src:t,className:"rounded-circle img-thumbnail w-75 mx-auto text-center h-75"}),n.a.createElement("p",{className:"lead mb-0"},a),n.a.createElement("p",{className:"text-muted"},r),n.a.createElement(p.b,{to:"".concat(Q,"users/").concat(s)},"View Profile"))))},He=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(l.a)(t).call(this,e))).changeUserSearchPage=function(){var e=Object(A.a)(R.a.mark((function e(t){var r,n,s;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.props.searchUser,n=a.state.search_users_meta.query,e.next=4,r(n,t);case 4:!0===(s=e.sent).status&&a.setState({search_users_meta:s.meta,apiMsg:""}),404===s.api_status&&a.setState({apiMsg:s.msg});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.state={search_users_meta:{current_page:1,has_next:null,items_count:0,pages_count:0,query:""},apiMsg:""},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidUpdate",value:function(){var e=Object(A.a)(R.a.mark((function e(t){var a,r,n,s,c,i,o,u;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=this.props,r=a.history,n=a.authorize,s=a.match,c=a.searchUser,i=t.match,o=this.state.current_page,e.t0=!K(),e.t0){e.next=8;break}return e.next=7,n();case 7:e.t0=!e.sent;case 8:if(!e.t0){e.next=10;break}r.push("".concat(Q,"login"));case 10:if(i.params.q===s.params.q){e.next=16;break}return e.next=13,c(s.params.q||"",o||1);case 13:!0===(u=e.sent).status&&this.setState({search_users_meta:u.meta,apiMsg:""}),404===u.api_status&&this.setState({apiMsg:u.msg});case 16:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=Object(A.a)(R.a.mark((function e(){var t,a,r,n,s,c,i,o;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props,a=t.history,r=t.authorize,n=t.match.params,s=t.loadSelf,c=t.searchUser,i=this.state.current_page,e.t0=!K(),e.t0){e.next=7;break}return e.next=6,r();case 6:e.t0=!e.sent;case 7:if(!e.t0){e.next=9;break}a.push("".concat(Q,"login"));case 9:return e.next=11,s();case 11:return e.next=13,c(n.q||"",i);case 13:!0===(o=e.sent).status&&this.setState({search_users_meta:o.meta,apiMsg:""}),404===o.api_status&&this.setState({apiMsg:o.msg});case 16:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.users,t=this.state,a=t.apiMsg,r=t.search_users_meta,s=r.current_page,c=r.items_count,i=r.pages_count,o=t.search_users_meta;return""!==a?n.a.createElement("h3",{className:"text-center lead mt-4"},a):ue.a.isEmpty(e)?n.a.createElement("p",{className:"mt-4 text-center"},n.a.createElement("i",{className:"fa fa-spinner fa-pulse fa-3x fa-fw"}),n.a.createElement("span",{className:"sr-only"},"Loading...")):n.a.createElement("div",{className:"container"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-md-12 lead mt-4 mb-4"},"Searching for: ",n.a.createElement("strong",null,o.query),n.a.createElement("hr",null))),n.a.createElement("div",{className:"row"},e.map((function(e){return n.a.createElement(Fe,Object.assign({key:e._id},e))}))),n.a.createElement("div",{className:"row"},i>1?n.a.createElement(qe.a,{activePage:s,itemsCountPerPage:10,totalItemsCount:c,pageRangeDisplayed:7,onChange:this.changeUserSearchPage,itemClass:"page-item",innerClass:"pagination mt-5 mb-5",linkClass:"page-link"}):null))}}]),t}(n.a.Component),Ge=Object(f.b)((function(e){return{users:e.users.users,user:e.auth.user}}),(function(e){return{authorize:function(){return e(be())},searchUser:function(t,a){return e(function(e,t){return function(){var a=Object(A.a)(R.a.mark((function a(r){var n,s,c,i,o,u,l,m,p,d;return R.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n=sessionStorage.getItem("reminderapp::access_token"),a.next=4,fe.get("/search?q=".concat(e,"&page=").concat(t,"&limit=24"),{headers:{Authorization:"Bearer ".concat(n)}});case 4:if(s=a.sent,c=s.status,i=s.data,o=i.status,u=i.data,l=i.meta,200!==c||"okay"!==o){a.next=15;break}return r({type:"search_user",payload:{users:u,userSearchMeta:l}}),a.abrupt("return",{status:!0,msg:"Search result",meta:l});case 15:return a.abrupt("return",{status:!1,msg:"Something went wrong."});case 16:a.next=28;break;case 18:if(a.prev=18,a.t0=a.catch(0),!(m=a.t0.response)){a.next=27;break}if(p=m.status,d=m.data,404!==p){a.next=25;break}return a.abrupt("return",{status:!1,api_status:404,msg:d.msg,data:d.data});case 25:a.next=28;break;case 27:return a.abrupt("return",{status:!1,msg:"Something went wrong."});case 28:case"end":return a.stop()}}),a,null,[[0,18]])})));return function(e){return a.apply(this,arguments)}}()}(t,a))},loadSelf:function(){return e(ye())}}}))(He),We=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(l.a)(t).call(this,e))).state={apiMsg:"",requests:[]},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=Object(A.a)(R.a.mark((function e(){var t,a,r,n,s,c,i,o,u;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props,a=t.history,r=t.authorize,e.t0=!K(),e.t0){e.next=6;break}return e.next=5,r();case 5:e.t0=!e.sent;case 6:if(!e.t0){e.next=8;break}a.push("".concat(Q,"login"));case 8:return n=sessionStorage.getItem("reminderapp::access_token"),e.next=11,fe.get("/friends/requests",{headers:{Authorization:"Bearer ".concat(n)}});case 11:s=e.sent,c=s.status,i=s.data,i.status,o=i.data,200===c&&(u=o[0].friend_requests_in,this.setState({requests:o[0].friend_requests_in,apiMsg:u.length<1?"No Data Found.":""}));case 17:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.requests,a=e.apiMsg;return""!==a?n.a.createElement("h3",{className:"text-center lead mt-4"},a):ue.a.isEmpty(t)?n.a.createElement("p",{className:"mt-4 text-center"},n.a.createElement("i",{className:"fa fa-spinner fa-pulse fa-3x fa-fw"}),n.a.createElement("span",{className:"sr-only"},"Loading...")):n.a.createElement("div",{className:"container"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-md-12 lead mt-4 mb-4"},"Friend requests",n.a.createElement("hr",null))),n.a.createElement("div",{className:"row"},t.map((function(e){return n.a.createElement(Fe,Object.assign({key:e._id},e))}))))}}]),t}(n.a.Component),Je=Object(f.b)(null,(function(e){return{authorize:function(){return e(be())}}}))(We),Ve=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(l.a)(t).call(this,e))).onChange=function(e){"checkbox"===e.target.type?a.setState(Object(E.a)({},e.target.name,e.target.checked)):a.setState(Object(E.a)({},e.target.name,e.target.value))},a.saveProfile=Object(A.a)(R.a.mark((function e(){var t,r,n,s,c,i,o;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.state,r=t.display_name,n=t.can_friend_set_reminder,e.prev=1,s=sessionStorage.getItem("reminderapp::access_token"),e.next=5,fe.post("/profile",{display_name:r,can_friend_set_reminder:n},{headers:{Authorization:"Bearer ".concat(s)}});case 5:c=e.sent,i=c.status,o=c.data,o.status,o.data,201===i&&a.setState({msg:"Profile update success."}),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),a.setState({msg:"Something went wrong."});case 16:case"end":return e.stop()}}),e,null,[[1,13]])}))),a.closeAlert=function(){a.setState({msg:""})},a.state={can_friend_set_reminder:!1,display_name:"",msg:""},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=Object(A.a)(R.a.mark((function e(){var t,a,r,n,s;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props,a=t.history,r=t.authorize,n=t.meProfile,K()||a.push("".concat(Q,"login")),e.next=4,r();case 4:if(!e.sent){e.next=11;break}return e.next=7,n();case 7:s=this.props.user,this.setState({display_name:s.display_name,can_friend_set_reminder:s.can_friend_set_reminder}),e.next=12;break;case 11:a.push("".concat(Q,"login"));case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props.user,a=this.state,r=a.display_name,s=a.can_friend_set_reminder;return ue.a.isEmpty(t)?n.a.createElement("p",{className:"mt-4 text-center"},n.a.createElement("i",{className:"fa fa-spinner fa-pulse fa-3x fa-fw"}),n.a.createElement("span",{className:"sr-only"},"Loading...")):n.a.createElement("section",{className:"container"},""!==this.state.msg?n.a.createElement(pe.a,{key:1,variant:"info",onClose:function(){return e.closeAlert()},dismissible:!0},n.a.createElement("strong",null,"Alert! "),this.state.msg):"",n.a.createElement("div",{className:"row mt-5 br1"},n.a.createElement("div",{className:"col-md"},n.a.createElement(U.a,null,n.a.createElement(we.a,{className:"mx-auto w-50"},n.a.createElement(we.a.Header,null,"Profile"),n.a.createElement(we.a.Body,null,n.a.createElement(U.a.Group,{controlId:"display_name"},n.a.createElement(U.a.Label,null,"Display Name"),n.a.createElement(U.a.Control,{name:"display_name",type:"text",placeholder:"Enter display name",value:r,onChange:this.onChange})),n.a.createElement(U.a.Group,{controlId:"can_friend_set_reminder"},n.a.createElement(U.a.Check,{type:"switch",id:"can_friend_set_reminder",name:"can_friend_set_reminder",label:"Can friend set reminder for you",onChange:this.onChange,checked:s}))),n.a.createElement(we.a.Footer,null,n.a.createElement(T.a,{variant:"outline-dark",onClick:this.saveProfile},"Save Profile")))))))}}]),t}(n.a.Component),$e=Object(f.b)((function(e){return{user:e.auth.user}}),(function(e){return{authorize:function(){return e(be())},meProfile:function(){return e(ye())}}}))(Ve),Ke=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(l.a)(t).call(this,e))).onChange=function(e){a.setState(Object(E.a)({},e.target.name,e.target.value))},a.saveProfile=Object(A.a)(R.a.mark((function e(){var t,r,n,s,c,i,o,u,l,m;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.state.username,r=a.props.user,e.prev=2,t!==r.username){e.next=5;break}throw new Error("same_name");case 5:return n=sessionStorage.getItem("reminderapp::access_token"),e.next=8,fe.post("/change-username",{username:t},{headers:{Authorization:"Bearer ".concat(n)}});case 8:s=e.sent,c=s.status,i=s.data,i.status,i.data,201===c&&a.setState({msg:"Username has been updated."}),e.next=22;break;case 16:e.prev=16,e.t0=e.catch(2),o=e.t0.response,u=e.t0.message,o&&(l=o.status,m=o.data,u=m.msg,422===l&&(u=m.data[0].msg)),a.setState({msg:u});case 22:case"end":return e.stop()}}),e,null,[[2,16]])}))),a.closeAlert=function(){a.setState({msg:""})},a.state={username:"",msg:""},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=Object(A.a)(R.a.mark((function e(){var t,a,r,n,s;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props,a=t.history,r=t.authorize,n=t.meProfile,K()||a.push("".concat(Q,"login")),e.next=4,r();case 4:if(!e.sent){e.next=11;break}return e.next=7,n();case 7:s=this.props.user,this.setState({username:s.username}),e.next=12;break;case 11:a.push("".concat(Q,"login"));case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props.user,a=this.state.username;return ue.a.isEmpty(t)?n.a.createElement("p",{className:"mt-4 text-center"},n.a.createElement("i",{className:"fa fa-spinner fa-pulse fa-3x fa-fw"}),n.a.createElement("span",{className:"sr-only"},"Loading...")):n.a.createElement("section",{className:"container"},""!==this.state.msg?n.a.createElement(pe.a,{key:1,variant:"info",onClose:function(){return e.closeAlert()},dismissible:!0},n.a.createElement("strong",null,"Alert! "),this.state.msg):"",n.a.createElement("div",{className:"row mt-5 br1"},n.a.createElement("div",{className:"col-md"},n.a.createElement(U.a,null,n.a.createElement(we.a,{className:"mx-auto w-50"},n.a.createElement(we.a.Header,null,"Username"),n.a.createElement(we.a.Body,null,n.a.createElement(U.a.Group,{controlId:"display_name"},n.a.createElement(U.a.Label,null,"Username"),n.a.createElement(U.a.Control,{name:"username",type:"text",placeholder:"Enter username",value:a,onChange:this.onChange}))),n.a.createElement(we.a.Footer,null,n.a.createElement(T.a,{variant:"outline-dark",onClick:this.saveProfile},"Change Username")))))))}}]),t}(n.a.Component),Qe=Object(f.b)((function(e){return{user:e.auth.user}}),(function(e){return{authorize:function(){return e(be())},meProfile:function(){return e(ye())}}}))(Ke),Xe=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(l.a)(t).call(this,e))).changeReminderPage=function(){var e=Object(A.a)(R.a.mark((function e(t){var r,n;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.props.loadReminders,e.next=3,r(t);case 3:!0===(n=e.sent).status&&a.setState({reminders_meta:n.meta}),404===n.api_status&&a.setState({apiMsg:n.msg});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.state={reminders_meta:{current_page:1,has_next:null,items_count:0,pages_count:0},apiMsg:""},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=Object(A.a)(R.a.mark((function e(){var t,a,r,n,s,c;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props,a=t.history,r=t.authorize,n=t.loadReminders,s=t.meProfile,e.t0=!K(),e.t0){e.next=6;break}return e.next=5,r();case 5:e.t0=!e.sent;case 6:if(!e.t0){e.next=8;break}return e.abrupt("return",a.push("".concat(Q,"login")));case 8:return e.next=10,s();case 10:return e.next=12,n(this.state.reminders_meta.current_page);case 12:!0===(c=e.sent).status&&this.setState({reminders_meta:c.meta}),404===c.api_status&&this.setState({apiMsg:c.msg});case 15:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props,t=e.reminders,a=e.user.timezone,r=this.state,s=r.apiMsg,c=r.reminders_meta,i=c.current_page,o=c.items_count;return""!==s?n.a.createElement("h3",{className:"text-center lead mt-4"},s):ue.a.isEmpty(t)?n.a.createElement("p",{className:"mt-4 text-center"},n.a.createElement("i",{className:"fa fa-spinner fa-pulse fa-3x fa-fw"}),n.a.createElement("span",{className:"sr-only"},"Loading...")):n.a.createElement("section",{className:"container"},t.map((function(e){return n.a.createElement(Re,Object.assign({key:e._id,timezone:a},e))})),n.a.createElement(qe.a,{activePage:i,itemsCountPerPage:10,totalItemsCount:o,pageRangeDisplayed:7,onChange:this.changeReminderPage,itemClass:"page-item",innerClass:"pagination mt-5 mb-5",linkClass:"page-link"}))}}]),t}(n.a.Component),Ze=Object(f.b)((function(e){return{reminders:e.reminders.list,user:e.auth.user}}),(function(e){return{authorize:function(){return e(be())},loadReminders:function(t){return e(function(e){return function(){var t=Object(A.a)(R.a.mark((function t(a){var r,n,s,c,i,o,u,l,m,p;return R.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=sessionStorage.getItem("reminderapp::access_token"),t.next=4,fe.get("/expired-reminders?page=".concat(e),{headers:{Authorization:"Bearer ".concat(r)}});case 4:if(n=t.sent,s=n.status,c=n.data,i=c.status,o=c.data,u=c.meta,200!==s||"okay"!==i){t.next=15;break}return a({type:"load_reminders",payload:o}),t.abrupt("return",{status:!0,msg:"List of reminders",meta:u});case 15:return t.abrupt("return",{status:!1,msg:"Something went wrong."});case 16:t.next=29;break;case 18:if(t.prev=18,t.t0=t.catch(0),!(l=t.t0.response)){t.next=28;break}if(m=l.status,p=l.data,404!==m){t.next=25;break}return t.abrupt("return",{status:!1,api_status:404,msg:p.msg,data:p.data});case 25:case 28:return t.abrupt("return",{status:!1,msg:"Something went wrong."});case 29:case"end":return t.stop()}}),t,null,[[0,18]])})));return function(e){return t.apply(this,arguments)}}()}(t))},meProfile:function(){return e(ye())}}}))(Xe),et=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return n.a.createElement(f.a,{store:D},n.a.createElement(p.a,null,n.a.createElement(ae,null),n.a.createElement(d.c,null,n.a.createElement(d.a,{exact:!0,path:"".concat(Q),component:Ie}),n.a.createElement(d.a,{exact:!0,path:"".concat(Q,"past-reminders"),component:Ze}),n.a.createElement(d.a,{path:"".concat(Q,"login"),component:Ee}),n.a.createElement(d.a,{exact:!0,path:"".concat(Q,"me/change-username"),component:Qe}),n.a.createElement(d.a,{exact:!0,path:"".concat(Q,"me/edit"),component:$e}),n.a.createElement(d.a,{path:"".concat(Q,"me"),component:Ne}),n.a.createElement(d.a,{exact:!0,path:"".concat(Q,"users/:username"),component:Me}),n.a.createElement(d.a,{path:"".concat(Q,"logout"),component:ke}),n.a.createElement(d.a,{path:"".concat(Q,"set-reminder"),component:Ye}),n.a.createElement(d.a,{exact:!0,path:"".concat(Q,"search/:q"),component:Ge}),n.a.createElement(d.a,{path:"".concat(Q,"requests"),component:Je}),n.a.createElement(d.a,{path:"*",component:re}))))}}]),t}(n.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(n.a.createElement(et,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[126,1,2]]]);
//# sourceMappingURL=main.02d65985.chunk.js.map