(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{123:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),s=a(33),c=a.n(s),o=(a(88),a(8)),i=a(9),u=a(11),l=a(10),m=a(12),p=a(51),h=a(24),f=a(13),d=a(31),g=a(73),b=a(74),v=a.n(b),E=a(20);function y(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function O(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?y(a,!0).forEach((function(t){Object(E.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):y(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var w={isAuthorized:!1,user:{}};function k(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function j(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?k(a,!0).forEach((function(t){Object(E.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):k(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var x={profile:{},users:[],userSearchMeta:{}},_=a(82);function N(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function S(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?N(a,!0).forEach((function(t){Object(E.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):N(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var P={list:[]},C=Object(d.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0,a=t.type,r=t.payload;switch(a){case"auth":return O({},e,{},r);case"me":return O({},e,{user:O({},r)});default:return e}},users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0,a=t.type,r=t.payload;switch(a){case"user_profile":return j({},e,{profile:j({},r)});case"search_user":return j({},e,{},r);default:return e}},reminders:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0,a=t.type,r=t.payload;switch(a){case"load_reminders":return S({},e,{list:Object(_.a)(r)});default:return e}}}),D=[g.a,v.a],M=Object(d.d)(C,d.a.apply(void 0,D)),A=(a(93),a(94),a(4)),z=a.n(A),I=a(6),L=a(45),R=a(52),B=a(30),U=a(23),q=a(47),T=a(49),F=function(){var e=sessionStorage.getItem("reminderapp::access_token");return null!==e&&e},G="/",H=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(l.a)(t).call(this,e))).onChange=function(e){a.setState(Object(E.a)({},e.target.name,e.target.value))},a.searchHandler=function(){var e=Object(I.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("search handler called"),t.preventDefault(),a.props.history.push("".concat(G,"search/").concat(a.state.search));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.state={search:""},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=Object(I.a)(z.a.mark((function e(){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("props",this.props);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.isAuthorized,t=this.state.search;return n.a.createElement(R.a,{bg:"info",variant:"dark",expand:"lg"},n.a.createElement(L.a,null,n.a.createElement(R.a.Toggle,{"aria-controls":"basic-navbar-nav"}),n.a.createElement(R.a.Collapse,{id:"basic-navbar-nav"},n.a.createElement(B.a,{className:"mr-auto"},n.a.createElement(B.a.Link,{href:"".concat(G),className:"nav-link"},"HOME"),n.a.createElement(B.a.Link,{href:"".concat(G,"me"),className:"nav-link"},"PROFILE"),n.a.createElement(B.a.Link,{href:"".concat(G,"set-reminder"),className:"nav-link"},"SET REMINDER")),!1===e?"":n.a.createElement(U.a,{inline:!0},n.a.createElement(q.a,{type:"text",placeholder:"Search",className:"mr-sm-2",name:"search",value:t,onChange:this.onChange}),n.a.createElement(T.a,{type:"submit",variant:"outline-light",onClick:this.searchHandler},"Search")),n.a.createElement(B.a,null,!1===e?n.a.createElement(B.a.Link,{href:"".concat(G,"login"),className:"nav-link"},"LOGIN"):n.a.createElement(B.a.Link,{href:"".concat(G,"logout"),className:"nav-link"},"LOGOUT")))))}}]),t}(n.a.Component),J=Object(h.f)(Object(f.b)((function(e){return{isAuthorized:e.auth.isAuthorized}}))(H)),W=function(){return n.a.createElement("div",{className:"container"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"text-center col-md mt-5"},n.a.createElement("h1",{className:"display-3"},"404"),n.a.createElement("h5",null,"Page not found."))))},V=a(78),Y=a.n(V),$=a(79),K=a.n($),Q=a(39),X=a(80),Z=a.n(X).a.create({baseURL:"https://reminders-app-backend.herokuapp.com/api/v1",responseType:"json"});function ee(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function te(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ee(a,!0).forEach((function(t){Object(E.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ee(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var ae=function(){return function(){var e=Object(I.a)(z.a.mark((function e(t){var a,r;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=sessionStorage.getItem("reminderapp::access_token"),e.next=4,Z.get("/authorize",{headers:{Authorization:"Bearer ".concat(a)}});case 4:if(r=e.sent,"okay"!==r.data.status){e.next=11;break}return t({type:"auth",payload:{isAuthorized:!0}}),e.abrupt("return",!0);case 11:return t({type:"auth",payload:{isAuthorized:!1}}),e.abrupt("return",!1);case 13:e.next=18;break;case 15:return e.prev=15,e.t0=e.catch(0),e.abrupt("return",!1);case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t){return e.apply(this,arguments)}}()},re=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(l.a)(t).call(this,e))).signin=function(){var e=Object(I.a)(z.a.mark((function e(t,r){var n,s,c,o;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("provider: ",r),console.log("res: ",t),"facebook"===r&&t.email&&(s=t.email.split("@")[0],n={auth_provider:"facebook",auth_provider_id:t.id,auth_provider_access_token:t.accessToken,username:s,email:t.email,display_name:t.name,dp:"https://graph.facebook.com/".concat(t.id,"/picture?type=large"),first_name:t.first_name||"",last_name:t.last_name||""}),"google"===r&&t.w3.U3&&(c=t.profileObj.email.split("@")[0],n={auth_provider:"google",auth_provider_id:t.profileObj.googleId,auth_provider_access_token:t.accessToken,username:c,email:t.profileObj.email,display_name:t.profileObj.name,dp:t.profileObj.imageUrl,first_name:t.profileObj.givenName||"",last_name:t.profileObj.familyName||""}),!n){e.next=13;break}return e.next=7,a.props.signin(n);case 7:o=e.sent,console.log("social login res: ",o),!1===o.status&&a.setState({loginErrorMsg:o.msg}),!0===o.status&&(a.setState({loginErrorMsg:""}),a.props.history.push("".concat(G,"me"))),e.next=14;break;case 13:a.setState({loginErrorMsg:"Something went wrong. Please try later."});case 14:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),a.closeErrorAlert=function(){a.setState({loginErrorMsg:""})},a.state={loginErrorMsg:""},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=Object(I.a)(z.a.mark((function e(){var t;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.props.history,F()&&t.push("".concat(G));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state.loginErrorMsg;return n.a.createElement("section",{className:"container"},n.a.createElement("h2",{className:"text-center"},"Welcome to Remind.me"),n.a.createElement("hr",null),""!==t?n.a.createElement(Q.a,{key:1,variant:"danger",onClose:function(){return e.closeErrorAlert()},dismissible:!0},n.a.createElement("strong",null,"Error! "),t):"",n.a.createElement("article",{className:"jumbotron"},n.a.createElement("p",{className:"text-center lead"},n.a.createElement("strong",null,"Ready to begin? Signin to set reminder and collaborate with your friends and colleagues!")),n.a.createElement("div",{className:"text-center"},n.a.createElement(Y.a,{appId:"860969304305165",fields:"name,email,picture,first_name,last_name",callback:function(t){return e.signin(t,"facebook")},cssClass:"loginBtn loginBtn--facebook mr-4"}),n.a.createElement(K.a,{clientId:"604433154038-357srq78dgd0jiji0fs7s8rme0k5uu0u.apps.googleusercontent.com",buttonText:"LOGIN WITH GOOGLE",onSuccess:function(t){return e.signin(t,"google")},onFailure:function(t){return e.signin(t,"google")}}))))}}]),t}(n.a.Component),ne=Object(f.b)((function(e){return{user:e.auth.user}}),(function(e){return{signin:function(t){return e(function(e){return function(){var t=Object(I.a)(z.a.mark((function t(a){var r,n,s,c,o;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Z.post("/social-signin",e);case 3:if(201!==(r=t.sent).status){t.next=11;break}return n=r.data.data,sessionStorage.setItem("reminderapp::access_token",n.access_token),a({type:"auth",payload:te({},n,{isAuthorized:!0})}),t.abrupt("return",{c:10001,status:!0,msg:"Success"});case 11:return t.abrupt("return",{c:10002,status:!1,msg:"Something went wrong."});case 12:t.next=28;break;case 14:if(t.prev=14,t.t0=t.catch(0),!(s=t.t0.response)){t.next=27;break}c=s.status,o=s.data,t.t1=c,t.next=422===t.t1?22:409===t.t1?23:24;break;case 22:return t.abrupt("return",{c:10003,status:!1,api_status:422,msg:o.msg,data:o.data});case 23:return t.abrupt("return",{c:10004,status:!1,api_status:409,msg:o.msg,data:o.data});case 24:return t.abrupt("return",{c:10005,status:!1,api_status:500,msg:o.msg,data:o.data});case 25:t.next=28;break;case 27:return t.abrupt("return",{c:10006,status:!1,api_status:500,msg:"Something went wrong."});case 28:case"end":return t.stop()}}),t,null,[[0,14]])})));return function(e){return t.apply(this,arguments)}}()}(t))},authorize:function(){return e(ae())}}}))(re),se=function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=Object(I.a)(z.a.mark((function e(){var t;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.props.history,F()||t.push("".concat(G,"/login")),sessionStorage.removeItem("reminderapp::access_token"),t.push("".concat(G,"/login"));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),t}(n.a.Component),ce=a(28),oe=a.n(ce),ie=function(){return function(){var e=Object(I.a)(z.a.mark((function e(t){var a,r,n,s,c,o,i;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=sessionStorage.getItem("reminderapp::access_token"),e.next=4,Z.get("/users/me",{headers:{Authorization:"Bearer ".concat(a)}});case 4:if(r=e.sent,n=r.data,s=n.status,c=n.data,"okay"!==s){e.next=13;break}return t({type:"me",payload:c}),e.abrupt("return",{status:!0,msg:"Profile"});case 13:return e.abrupt("return",{status:!1,msg:"Something went wrong."});case 14:e.next=25;break;case 16:if(e.prev=16,e.t0=e.catch(0),!(o=e.t0.response)){e.next=24;break}return i=o.data,e.abrupt("return",{status:!1,msg:i.msg,data:i.data});case 24:return e.abrupt("return",{status:!1,msg:"Something went wrong."});case 25:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(t){return e.apply(this,arguments)}}()},ue=a(18),le=function(e){var t=e.dp,a=e.display_name,r=e.email,s=e.isOwner;return n.a.createElement(ue.a,{style:{},className:"mx-auto mt-0 p-2"},n.a.createElement(ue.a.Body,{className:"text-center"},n.a.createElement("img",{alt:"Profile",src:t,className:"rounded-circle img-thumbnail w-75 mx-auto text-center",style:{minHeight:"220px"}}),n.a.createElement("p",{className:"lead mb-0"},a),n.a.createElement("p",{className:"text-muted"},r),s?n.a.createElement("div",{className:"text-right mb-0"},n.a.createElement("a",{href:"/edit"},"Edit Profile")):null))},me=["January","February","March","April","May","June","July","August","September","October","November","December"],pe=function(e){var t=e.createdAt,a=e.friendsCount,r=void 0===a?0:a;return n.a.createElement("section",{className:"row br1"},n.a.createElement("div",{className:"col-md-12 h3 font-weight-light mb-3 pb-2"},"Profile at a Glance",n.a.createElement("hr",null)),n.a.createElement("div",{className:"col-md lead"},"Member Since:",n.a.createElement("strong",null," ","".concat(me[new Date(t).getMonth()]," ").concat(new Date(t).getUTCFullYear()))),n.a.createElement("div",{className:"col-md lead"},"Friends: ",n.a.createElement("strong",null,new Intl.NumberFormat("en-IN",{maximumSignificantDigits:3}).format(r))))},he=function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=Object(I.a)(z.a.mark((function e(){var t,a,r,n;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props,a=t.history,r=t.authorize,n=t.meProfile,F()||a.push("".concat(G,"login")),e.next=4,r();case 4:if(!e.sent){e.next=9;break}return e.next=7,n();case 7:e.next=10;break;case 9:a.push("".concat(G,"login"));case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.user;return oe.a.isEmpty(e)?n.a.createElement("p",{className:"mt-4 text-center"},n.a.createElement("i",{className:"fa fa-spinner fa-pulse fa-3x fa-fw"}),n.a.createElement("span",{className:"sr-only"},"Loading...")):n.a.createElement("section",{className:"container"},n.a.createElement("div",{className:"row mt-5 br1"},n.a.createElement("article",{className:"col-md-4 col-sm-6 text-cetner bb1"},n.a.createElement(le,Object.assign({},e,{isOwner:!0}))),n.a.createElement("article",{className:"col-md bg1"},n.a.createElement(pe,e))))}}]),t}(n.a.Component),fe=Object(f.b)((function(e){return{user:e.auth.user}}),(function(e){return{authorize:function(){return e(ae())},meProfile:function(){return e(ie())}}}))(he),de=function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=Object(I.a)(z.a.mark((function e(){var t,a,r,n,s;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props,a=t.history,r=t.authorize,n=t.usersProfile,s=t.match.params,F()||a.push("".concat(G,"login")),e.next=4,r();case 4:if(!e.sent){e.next=11;break}return e.next=7,n(s.username||"");case 7:e.sent.status,e.next=12;break;case 11:a.push("".concat(G,"login"));case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.user;return oe.a.isEmpty(e)?n.a.createElement("h2",{className:"text-center"},"Data Not Found."):n.a.createElement("section",{className:"container"},n.a.createElement("div",{className:"row mt-5 br1"},n.a.createElement("article",{className:"col-md-4 col-sm-6 text-cetner bb1"},n.a.createElement(le,Object.assign({},e,{isOwner:!1}))),n.a.createElement("article",{className:"col-md bg1"},n.a.createElement(pe,e))))}}]),t}(n.a.Component),ge=Object(f.b)((function(e){return{user:e.users.profile}}),(function(e){return{authorize:function(){return e(ae())},usersProfile:function(t){return e(function(e){return function(){var t=Object(I.a)(z.a.mark((function t(a){var r,n,s,c,o,i,u,l,m;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=sessionStorage.getItem("reminderapp::access_token"),t.next=4,Z.get("/users/".concat(e),{headers:{Authorization:"Bearer ".concat(r)}});case 4:if(n=t.sent,s=n.status,c=n.data,o=c.status,i=c.data,200!==s||"okay"!==o){t.next=14;break}return a({type:"user_profile",payload:i}),t.abrupt("return",{status:!0,msg:"".concat(e,"'s Profile")});case 14:return t.abrupt("return",{status:!1,msg:"Something went wrong."});case 15:t.next=27;break;case 17:if(t.prev=17,t.t0=t.catch(0),!(u=t.t0.response)){t.next=26;break}if(l=u.status,m=u.data,404!==l){t.next=24;break}return t.abrupt("return",{status:!1,api_status:404,msg:m.msg,data:m.data});case 24:t.next=27;break;case 26:return t.abrupt("return",{status:!1,msg:"Something went wrong."});case 27:case"end":return t.stop()}}),t,null,[[0,17]])})));return function(e){return t.apply(this,arguments)}}()}(t))}}}))(de),be=a(50),ve=a.n(be),Ee=a(81),ye=a.n(Ee),Oe=function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.display_name,a=e.dp,r=e.remind_me,s=e.remind_on;return n.a.createElement("section",{className:"row mt-3"},n.a.createElement("article",{className:"col-md"},n.a.createElement(ue.a,{className:"mt-0 p-3 reminder-card-boxshadow"},n.a.createElement("div",{className:"row"},n.a.createElement("article",{className:"col-md-2 text-center reminder-list-user-box"},n.a.createElement("img",{src:a,alt:"Avatar",style:{width:"75px"}}),n.a.createElement("p",{className:"lead"},t)),n.a.createElement("article",{className:"col-md-10"},n.a.createElement("p",{className:"lead",style:{minHeight:"70px"}},r),n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-md"},n.a.createElement("strong",{className:"text-muted"},"Will remind at "),ye()(s).format("LLLL"))))))))}}]),t}(n.a.Component),we=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(l.a)(t).call(this,e))).changeReminderPage=function(){var e=Object(I.a)(z.a.mark((function e(t){var r,n;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.props.loadReminders,e.next=3,r(t);case 3:!0===(n=e.sent).status&&a.setState({reminders_meta:n.meta}),404===n.api_status&&a.setState({apiMsg:n.msg});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.state={reminders_meta:{current_page:1,has_next:null,items_count:0,pages_count:0},apiMsg:""},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=Object(I.a)(z.a.mark((function e(){var t,a,r,n,s;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props,a=t.history,r=t.authorize,n=t.loadReminders,e.t0=!F(),e.t0){e.next=6;break}return e.next=5,r();case 5:e.t0=!e.sent;case 6:if(!e.t0){e.next=8;break}a.push("".concat(G,"/login"));case 8:return e.next=10,n(this.state.reminders_meta.current_page);case 10:!0===(s=e.sent).status&&this.setState({reminders_meta:s.meta}),404===s.api_status&&this.setState({apiMsg:s.msg});case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.reminders,t=this.state,a=t.apiMsg,r=t.reminders_meta,s=r.current_page,c=r.items_count;return""!==a?n.a.createElement("h3",{className:"text-center lead mt-4"},a):oe.a.isEmpty(e)?n.a.createElement("p",{className:"mt-4 text-center"},n.a.createElement("i",{className:"fa fa-spinner fa-pulse fa-3x fa-fw"}),n.a.createElement("span",{className:"sr-only"},"Loading...")):n.a.createElement("section",{className:"container"},e.map((function(e){return n.a.createElement(Oe,{key:e._id,display_name:e.owner.display_name,dp:e.owner.dp,remind_me:e.remind_me,remind_on:e.remind_on})})),n.a.createElement(ve.a,{activePage:s,itemsCountPerPage:10,totalItemsCount:c,pageRangeDisplayed:7,onChange:this.changeReminderPage,itemClass:"page-item",innerClass:"pagination mt-5 mb-5",linkClass:"page-link"}))}}]),t}(n.a.Component),ke=Object(f.b)((function(e){return{reminders:e.reminders.list}}),(function(e){return{authorize:function(){return e(ae())},loadReminders:function(t){return e(function(e){return function(){var t=Object(I.a)(z.a.mark((function t(a){var r,n,s,c,o,i,u,l,m,p;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=sessionStorage.getItem("reminderapp::access_token"),t.next=4,Z.get("/reminders?page=".concat(e),{headers:{Authorization:"Bearer ".concat(r)}});case 4:if(n=t.sent,s=n.status,c=n.data,o=c.status,i=c.data,u=c.meta,200!==s||"okay"!==o){t.next=15;break}return a({type:"load_reminders",payload:i}),t.abrupt("return",{status:!0,msg:"List of reminders",meta:u});case 15:return t.abrupt("return",{status:!1,msg:"Something went wrong."});case 16:t.next=29;break;case 18:if(t.prev=18,t.t0=t.catch(0),!(l=t.t0.response)){t.next=28;break}if(m=l.status,p=l.data,404!==m){t.next=25;break}return t.abrupt("return",{status:!1,api_status:404,msg:p.msg,data:p.data});case 25:case 28:return t.abrupt("return",{status:!1,msg:"Something went wrong."});case 29:case"end":return t.stop()}}),t,null,[[0,18]])})));return function(e){return t.apply(this,arguments)}}()}(t))}}}))(we),je=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(l.a)(t).call(this,e))).saveReminder=Object(I.a)(z.a.mark((function e(){var t,r,n,s,c,o,i,u,l;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props.setReminder,r=a.state,n=r.remind_me,s=r.enabled,c=r.date,o=r.time,i=r.friends,u={remind_me:n,enabled:s,date:c,time:o,friends:i},e.next=5,t(u);case 5:!0===(l=e.sent).status?a.setState({showSuccessAlert:!0,msg:l.msg}):a.setState({showErrorAlert:!0,msg:l.msg});case 7:case"end":return e.stop()}}),e)}))),a.closeSuccessAlert=function(){a.setState({showSuccessAlert:!1})},a.closeErrorAlert=function(){a.setState({showErrorAlert:!1})},a.onChange=function(e){a.setState(Object(E.a)({},e.target.name,e.target.value))},a.state={showErrorAlert:!1,showSuccessAlert:!1,msg:"",remind_me:"",enabled:!0,date:"today",time:"morning",friends:""},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=Object(I.a)(z.a.mark((function e(){var t,a,r;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props,a=t.history,r=t.authorize,e.t0=!F(),e.t0){e.next=6;break}return e.next=5,r();case 5:e.t0=!e.sent;case 6:if(!e.t0){e.next=8;break}a.push("".concat(G,"login"));case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.showErrorAlert,r=t.showSuccessAlert,s=t.remind_me,c=t.date,o=t.time;return n.a.createElement(L.a,{className:"mt-5"},r?n.a.createElement(Q.a,{key:1,variant:"success",onClose:function(){return e.closeSuccessAlert()},dismissible:!0},n.a.createElement("strong",null,"Success! "),this.state.msg):"",a?n.a.createElement(Q.a,{key:1,variant:"danger",onClose:function(){return e.closeErrorAlert()},dismissible:!0},n.a.createElement("strong",null,"Error! "),this.state.msg):"",n.a.createElement(U.a,null,n.a.createElement(ue.a,{className:"mx-auto w-50"},n.a.createElement(ue.a.Header,null,"Set a reminder"),n.a.createElement(ue.a.Body,null,n.a.createElement(U.a.Control,{type:"text",placeholder:"Remind me...",name:"remind_me",value:s,onChange:this.onChange}),n.a.createElement("hr",null),n.a.createElement("section",{className:"row"},n.a.createElement("div",{className:"col-md"},n.a.createElement(U.a.Group,{controlId:"exampleForm.ControlSelect1"},n.a.createElement(U.a.Label,null,"Date"),n.a.createElement(U.a.Control,{as:"select",name:"date",onChange:this.onChange,value:c},n.a.createElement("option",{value:"today"},"Today"),n.a.createElement("option",{value:"tomorrow"},"tomorrow"),n.a.createElement("option",{value:"set"},"Set date")))),n.a.createElement("div",{className:"col-md"},n.a.createElement(U.a.Group,{controlId:"exampleForm.ControlSelect1"},n.a.createElement(U.a.Label,null,"Time"),n.a.createElement(U.a.Control,{as:"select",name:"time",onChange:this.onChange,value:o},n.a.createElement("option",{value:"morning"},"Morning"),n.a.createElement("option",{value:"afternoon"},"Afternoon"),n.a.createElement("option",{value:"evening"},"Evening"),n.a.createElement("option",{value:"night"},"Night"),n.a.createElement("option",{value:"set_time"},"Set time")))))),n.a.createElement(ue.a.Footer,{className:"text-muted"},n.a.createElement(T.a,{variant:"outline-dark",onClick:this.saveReminder},"Save Reminder")))))}}]),t}(n.a.Component),xe=Object(f.b)(null,(function(e){return{authorize:function(){return e(ae())},setReminder:function(t){return e((a=t,function(){var e=Object(I.a)(z.a.mark((function e(t){var r,n,s,c,o,i;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=sessionStorage.getItem("reminderapp::access_token"),e.next=4,Z.post("/reminders",a,{headers:{Authorization:"Bearer ".concat(r)}});case 4:if(n=e.sent,s=n.status,c=n.data.status,201!==s||"okay"!==c){e.next=12;break}return t({type:"set_new_reminder_success"}),e.abrupt("return",{status:!0,msg:"Reminder has been set successfully."});case 12:return e.abrupt("return",{status:!1,msg:"Something went wrong."});case 13:e.next=24;break;case 15:if(e.prev=15,e.t0=e.catch(0),!(o=e.t0.response)){e.next=23;break}return i=o.data,e.abrupt("return",{status:!1,api_status:i.status,msg:i.msg,data:i.data});case 23:return e.abrupt("return",{status:!1,msg:"Something went wrong."});case 24:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t){return e.apply(this,arguments)}}()));var a}}}))(je),_e=function(e){var t=e.dp,a=e.display_name,r=e.email,s=e.username;e.isOwner;return n.a.createElement("section",{className:"col-sm-12 col-md-4 col-lg-3"},n.a.createElement(ue.a,{style:{},className:"mx-auto mb-4 p-1"},n.a.createElement(ue.a.Body,{className:"text-center"},n.a.createElement("img",{alt:"Profile",src:t,className:"rounded-circle img-thumbnail w-75 mx-auto text-center h-75"}),n.a.createElement("p",{className:"lead mb-0"},a),n.a.createElement("p",{className:"text-muted"},r),n.a.createElement(p.b,{to:"".concat(G,"users/").concat(s)},"View Profile"))))},Ne=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(l.a)(t).call(this,e))).changeUserSearchPage=function(){var e=Object(I.a)(z.a.mark((function e(t){var r,n,s;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.props.searchUser,n=a.state.search_users_meta.query,e.next=4,r(n,t);case 4:!0===(s=e.sent).status&&a.setState({search_users_meta:s.meta,apiMsg:""}),404===s.api_status&&a.setState({apiMsg:s.msg});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.state={search_users_meta:{current_page:1,has_next:null,items_count:0,pages_count:0,query:""},apiMsg:""},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidUpdate",value:function(){var e=Object(I.a)(z.a.mark((function e(t,a){var r,n,s,c,o,i,u,l;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this.props,n=r.history,s=r.authorize,c=r.match,o=r.searchUser,i=t.match,u=this.state.current_page,e.t0=!F(),e.t0){e.next=8;break}return e.next=7,s();case 7:e.t0=!e.sent;case 8:if(!e.t0){e.next=10;break}n.push("".concat(G,"login"));case 10:if(i.params.q===c.params.q){e.next=16;break}return e.next=13,o(c.params.q||"",u);case 13:!0===(l=e.sent).status&&this.setState({search_users_meta:l.meta,apiMsg:""}),404===l.api_status&&this.setState({apiMsg:l.msg});case 16:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=Object(I.a)(z.a.mark((function e(){var t,a,r,n,s,c,o,i;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props,a=t.history,r=t.authorize,n=t.match.params,s=t.loadSelf,c=t.searchUser,o=this.state.current_page,console.log("users search params: ",n),e.t0=!F(),e.t0){e.next=8;break}return e.next=7,r();case 7:e.t0=!e.sent;case 8:if(!e.t0){e.next=10;break}a.push("".concat(G,"login"));case 10:return e.next=12,s();case 12:return e.next=14,c(n.q||"",o);case 14:!0===(i=e.sent).status&&this.setState({search_users_meta:i.meta,apiMsg:""}),404===i.api_status&&this.setState({apiMsg:i.msg});case 17:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.users,t=this.state,a=t.apiMsg,r=t.search_users_meta,s=r.current_page,c=r.items_count,o=r.pages_count,i=t.search_users_meta;return""!==a?n.a.createElement("h3",{className:"text-center lead mt-4"},a):oe.a.isEmpty(e)?n.a.createElement("p",{className:"mt-4 text-center"},n.a.createElement("i",{className:"fa fa-spinner fa-pulse fa-3x fa-fw"}),n.a.createElement("span",{className:"sr-only"},"Loading...")):n.a.createElement("div",{className:"container"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-md-12 lead mt-4 mb-4"},"Searching for: ",n.a.createElement("strong",null,i.query),n.a.createElement("hr",null))),n.a.createElement("div",{className:"row"},e.map((function(e){return n.a.createElement(_e,Object.assign({key:e._id},e))}))),n.a.createElement("div",{className:"row"},o>1?n.a.createElement(ve.a,{activePage:s,itemsCountPerPage:10,totalItemsCount:c,pageRangeDisplayed:7,onChange:this.changeUserSearchPage,itemClass:"page-item",innerClass:"pagination mt-5 mb-5",linkClass:"page-link"}):null))}}]),t}(n.a.Component),Se=Object(f.b)((function(e){return{users:e.users.users,user:e.auth.user}}),(function(e){return{authorize:function(){return e(ae())},searchUser:function(t,a){return e(function(e,t){return console.log("actionsearch user q: ",e),console.log("actionsearch user page: ",t),function(){var a=Object(I.a)(z.a.mark((function a(r){var n,s,c,o,i,u,l,m,p,h;return z.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n=sessionStorage.getItem("reminderapp::access_token"),a.next=4,Z.get("/search?q=".concat(e,"&page=").concat(t,"&limit=24"),{headers:{Authorization:"Bearer ".concat(n)}});case 4:if(s=a.sent,c=s.status,o=s.data,i=o.status,u=o.data,l=o.meta,200!==c||"okay"!==i){a.next=15;break}return r({type:"search_user",payload:{users:u,userSearchMeta:l}}),a.abrupt("return",{status:!0,msg:"Search result",meta:l});case 15:return a.abrupt("return",{status:!1,msg:"Something went wrong."});case 16:a.next=28;break;case 18:if(a.prev=18,a.t0=a.catch(0),!(m=a.t0.response)){a.next=27;break}if(p=m.status,h=m.data,404!==p){a.next=25;break}return a.abrupt("return",{status:!1,api_status:404,msg:h.msg,data:h.data});case 25:a.next=28;break;case 27:return a.abrupt("return",{status:!1,msg:"Something went wrong."});case 28:case"end":return a.stop()}}),a,null,[[0,18]])})));return function(e){return a.apply(this,arguments)}}()}(t,a))},loadSelf:function(){return e(ie())}}}))(Ne),Pe=function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return n.a.createElement(f.a,{store:M},n.a.createElement(p.a,null,n.a.createElement(J,null),n.a.createElement(h.c,null,n.a.createElement(h.a,{exact:!0,path:"".concat(G),component:ke}),n.a.createElement(h.a,{path:"".concat(G,"login"),component:ne}),n.a.createElement(h.a,{path:"".concat(G,"me"),component:fe}),n.a.createElement(h.a,{exact:!0,path:"".concat(G,"users/:username"),component:ge}),n.a.createElement(h.a,{path:"".concat(G,"logout"),component:se}),n.a.createElement(h.a,{path:"".concat(G,"set-reminder"),component:xe}),n.a.createElement(h.a,{exact:!0,path:"".concat(G,"search/:q"),component:Se}),n.a.createElement(h.a,{path:"*",component:W}))))}}]),t}(n.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(n.a.createElement(Pe,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},83:function(e,t,a){e.exports=a(123)},88:function(e,t,a){},94:function(e,t,a){}},[[83,1,2]]]);
//# sourceMappingURL=main.54363c5f.chunk.js.map